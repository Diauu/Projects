CREATE SCHEMA OrganicSHOP;

CREATE TABLE OrganicSHOP.SHOP
(sId INT NOT NULL,
Sname VARCHAR(30) NOT NULL,
Street VARCHAR(20) NOT NULL,
City VARCHAR(20) NOT NULL,
StateAb VARCHAR(20) NOT NULL,
Zipcode CHAR(20) NOT NULL,
Sdate DATE,
Telno CHAR(20) NOT NULL,
URL VARCHAR(100) NOT NULL,
PRIMARY KEY (sId) );

CREATE TABLE OrganicSHOP.DEALER
(dId INT NOT NULL,
Dname VARCHAR(30) NOT NULL,
Street VARCHAR(60) NOT NULL,
City VARCHAR(30) NOT NULL,    
StateAb VARCHAR(20) NOT NULL,
Zipcode CHAR(20) NOT NULL,
PRIMARY KEY(dId) );

CREATE TABLE OrganicSHOP.DEALER_SHOP
(dId INT NOT NULL,
sId INT NOT NULL, 
PRIMARY KEY(dId,sId),
FOREIGN KEY(dId)REFERENCES DEALER(dId),
FOREIGN KEY(sId)REFERENCES SHOP(sId) );

CREATE TABLE OrganicSHOP.CONTRACT
(dId INT NOT NULL,
ctId INT NOT NULL,
Sdate DATE,
Ctime TIME,
Cname VARCHAR(50) NOT NULL,
PRIMARY KEY(dId,ctId),
FOREIGN KEY(dId)REFERENCES DEALER(dId) );

CREATE TABLE OrganicSHOP.ITEM
(iId INT NOT NULL,
Iname VARCHAR(50) NOT NULL,
Sprice DECIMAL(3,2),
PRIMARY KEY(iId) );

CREATE TABLE OrganicSHOP.DEALER_ITEM
(dId INT NOT NULL,
iId INT NOT NULL,
dprice DECIMAL(3,2),
PRIMARY KEY(dId,iId),
FOREIGN KEY(dId) REFERENCES DEALER(dId),
FOREIGN KEY(iId) REFERENCES ITEM(iId) );

CREATE TABLE OrganicSHOP.OLDPRICE
(iId INT NOT NULL,
Sprice DECIMAL(3,2),
Sdate DATE,
Edate DATE, 
PRIMARY KEY(iId,Sdate),
FOREIGN KEY(iId) REFERENCES ITEM(iId) );

CREATE TABLE OrganicSHOP.ORDER
(oId INT NOT NULL,
sId INT NOT NULL,
cId INT NOT NULL, 
Odate DATE,
Ddate DATE,
Amount INT NOT NULL,
PRIMARY KEY(oId,sId),
FOREIGN KEY(sId) REFERENCES SHOP(sId) );


CREATE TABLE OrganicSHOP.ORDER_ITEM
(oId INT NOT NULL,
sId INT NOT NULL,
iId INT NOT NULL,
Icount INT NOT NULL,
PRIMARY KEY(oId,sId,iId),
FOREIGN KEY(sId)REFERENCES SHOP(sId),
FOREIGN KEY(iId)REFERENCES ITEM(iId) );

CREATE TABLE OrganicSHOP.SHOP_ITEM
(sId INT NOT NULL,
iId INT NOT NULL,
Scount INT NOT NULL,
PRIMARY KEY(sId,iId),
FOREIGN KEY(sId)REFERENCES SHOP(sId),
FOREIGN KEY(iId)REFERENCES ITEM(iId) );

CREATE TABLE OrganicSHOP.CUSTOMER
(cId INT NOT NULL,
Cname VARCHAR(50) NOT NULL,
Street VARCHAR(50) NOT NULL,
City VARCHAR(50) NOT NULL,
StateAb VARCHAR(20) NOT NULL,
Zipcode CHAR(20) NOT NULL,
PRIMARY KEY(cId) );

CREATE TABLE OrganicSHOP.SHOP_CUSTOMER
(sId INT NOT NULL,
cId INT NOT NULL,$
PRIMARY KEY(sId,cId),
FOREIGN KEY(sId)REFERENCES SHOP(sId),
FOREIGN KEY(cId)REFERENCES CUSTOMER(cId) );

CREATE TABLE OrganicSHOP.EMPLOYEE
(sId INT NOT NULL,
SSN CHAR(9) NOT NULL,
Ename VARCHAR(50) NOT NULL,
Street VARCHAR(50) NOT NULL,
City VARCHAR(20) NOT NULL,
StateAb VARCHAR(20) NOT NULL,
Zipcode CHAR(20) NOT NULL,
Etype CHAR,
Bdate DATE,
Sdate DATE,
Edate DATE,
Level VARCHAR(30) ,
Asalary INT,
Agency VARCHAR(30),
Hsalary INT,
Institute VARCHAR(30),
Itype CHAR,
PRIMARY KEY(sId,SSN),
FOREIGN KEY(sId)REFERENCES SHOP(sId) );



